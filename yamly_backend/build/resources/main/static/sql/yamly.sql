-------------SEQUENCE------------
DROP SEQUENCE FOOD_SEQ;
DROP SEQUENCE FOOD_IMG_ID;
DROP SEQUENCE TAG_ID;

CREATE SEQUENCE FOOD_SEQ;
CREATE SEQUENCE FOOD_IMG_ID;
CREATE SEQUENCE TAG_ID;


-------------TABLE---------------
-- TABLE DROP
DROP TABLE FOOD_TAG_MAPPING;
DROP TABLE TAG;
DROP TABLE FOOD_IMG;
DROP TABLE FOOD;

-- 음식 테이블
CREATE TABLE FOOD (
	FOOD_ID	    INT	                NOT NULL,
	FOOD_NAME	VARCHAR2(300 BYTE)	NOT NULL,
    PRIMARY KEY (FOOD_ID),
);

-- 음식 이미지 테이블
CREATE TABLE FOOD_IMG (
	FOOD_IMG_ID	INT	NOT NULL,
	FOOD_ID     INT	NOT NULL,
	FOOD_IMG_PATH	    VARCHAR2(300 BYTE)	NULL,
	FOOD_IMG_ORIGIN	    VARCHAR2(300 BYTE)	NULL,
	FOOD_IMG_FILESYSTEM	VARCHAR2(42 BYTE)	NULL,
    PRIMARY KEY (FOOD_IMG_ID),
    FOREIGN KEY (FOOD_ID) REFERENCES FOOD (FOOD_ID) ON DELETE CASCADE,
);

-- 해시태그 테이블
CREATE TABLE TAG (
     TAG_ID	INT	NOT NULL,
     TAG_NAME	VARCHAR2(255 BYTE)	NOT NULL,
     PRIMARY KEY (TAG_ID),
);

-- 음식-해시태그 맵핑 테이블
CREATE TABLE FOOD_TAG_MAPPING (
	FOOD_ID	INT	NOT NULL,
	TAG_ID	INT	NOT NULL,
    FOREIGN KEY (FOOD_ID) REFERENCES FOOD (FOOD_ID) ON DELETE CASCADE,
    FOREIGN KEY (TAG_ID) REFERENCES TAG (TAG_ID) ON DELETE CASCADE,
);

